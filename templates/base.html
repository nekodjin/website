<!DOCTYPE html>

{% if section is defined %}
{% set self = section %}
{% elif page %}
{% set self = page %}
{% else %}
throw("couldn't find section or page")
{% endif %}

{% if self.extra.default_theme is defined %}
{% set theme = self.extra.default_theme %}
{% elif config.extra.default_theme is defined %}
{% set theme = config.extra.default_theme %}
{% else %}
throw("couldn't find default theme")
{% endif %}

<html lang="{{ self.lang | safe }}">

<head>
    <title> {%- block title %}{% endblock title -%} </title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="/{{ theme | safe }}.css" type="text/css">
</head>

<body>
{% block body %}
{% endblock body %}
{% block nofooter %}
<footer>
{% block footer %}
    Last updated on {{ now() | date(format="%A, %-d %B %Y") }}.
    View the source on <a href="https://github.com/nekodjin/website">GitHub</a>.
{% endblock footer %}
</footer>
{% endblock nofooter %}
</body>

</html>

